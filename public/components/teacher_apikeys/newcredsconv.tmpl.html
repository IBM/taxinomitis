<md-dialog aria-label="Store new Watson Assistant API key" style="max-width: 98%; max-height: 95%">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Add Watson Assistant credentials</h2>
        </div>
    </md-toolbar>
    <form ng-cloak name="newCredentials"
          ng-submit="confirm({ username : username, password : password, apikey : apikey, credstype : credstype })">
        <md-dialog-content>
            <div layout="column">
                <div layout="row">
                    <div style="min-width: 380px; padding: 1em;">
                        <div style="padding-right: 1em;">
                            These will be used when your students train
                            models in text projects.
                        </div>
                        <div style="padding-right: 1em;">
                            This will not be shown to students in your group.
                        </div>

                        <hr/>

                        <div style="margin-top: 1em; font-weight: bold;">
                            Which Pricing Plan did you use?
                        </div>
                        <div style="margin-top: 0.2em; margin-left: 1em;">
                            <md-radio-group ng-model="credstype" ng-required="true">
                                <md-radio-button value="conv_lite" class="md-primary">Lite <em>(free)</em></md-radio-button>
                                <md-radio-button value="conv_standard" class="md-primary">Standard <em>(paid)</em></md-radio-button>
                                <md-radio-button value="unknown" class="md-primary"><em>Unknown</em></md-radio-button>
                            </md-radio-group>
                        </div>

                        <hr/>

                        <div style="margin-top: 1em; font-weight: bold;">
                            What did you create in Watson Assistant?
                        </div>
                        <div style="margin-top: 0.2em; margin-left: 1em;">
                            <md-radio-group ng-model="type" ng-required="true">
                                <md-radio-button value="password" class="md-primary">A username and password</md-radio-button>
                                <md-radio-button value="apikey" class="md-primary">An API key</md-radio-button>
                            </md-radio-group>
                        </div>

                        <hr/>

                        <div ng-hide="type !== 'password'" style="margin-top: 1em; font-weight: bold;">
                            Please enter the username and password below
                        </div>
                        <div ng-hide="type !== 'apikey'" style="margin-top: 1em; font-weight: bold;">
                            Please enter the API key below
                        </div>

                        <div ng-hide="type !== 'password'" style="margin-top: 0.2em; margin-left: 1em;">
                            <md-input-container style="width: 100%; padding-right: 1.1em;">
                                <label>Username</label>
                                <input type="text" name="text"
                                    md-autofocus
                                    ng-required="type === 'password'"
                                    ng-pattern="/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[34][0-9a-fA-F]{3}-[89ab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/"
                                    ng-model="username"
                                    placeholder="username"
                                    style="width: 100%;"
                                    md-maxlength="36"></input>
                            </md-input-container>
                            <md-input-container style="width: 100%; padding-right: 1.1em;">
                                <label>Password</label>
                                <input type="text" name="text"
                                    ng-required="type === 'password'"
                                    ng-pattern="/^[0-9A-Za-z]{12}$/"
                                    ng-model="password"
                                    placeholder="password"
                                    md-maxlength="12"></input>
                            </md-input-container>
                        </div>
                        <div ng-hide="type !== 'apikey'" style="margin-top: 0.2em; margin-left: 1em;">
                            <md-input-container style="width: 100%; padding-right: 1.1em;">
                                <input type="text" name="text"
                                    md-autofocus
                                    ng-required="type === 'apikey'"
                                    ng-pattern="/^[0-9A-Za-z\-\_]{44}$/"
                                    ng-model="apikey"
                                    placeholder="API key"
                                    md-maxlength="44"></input>
                            </md-input-container>
                        </div>
                    </div>
                    <div class="additionalDialogInfo">
                        <div style="padding: 0.5em; margin: 0.5em; border: thin #3C70B1 solid; background-color: #EAEBF0; font-size: 0.8em;">
                            For help creating a username and password or API key, download the &nbsp;
                            <a href="https://github.com/IBM/taxinomitis-docs/raw/master/docs/pdf/machinelearningforkids-apikeys.pdf"> step by step guide </a>.
                        </div>
                        <img ng-hide="type !== 'apikey'"   src="static/images/creds-conv-apikey.jpg" style="width: 100%" class="dialoghelpimages" alt="screenshot of the Watson Assistant screen"/>
                        <img ng-hide="type !== 'password'" src="static/images/creds-conv-password.jpg" style="width: 100%" class="dialoghelpimages" alt="screenshot of the Watson Assistant screen"/>
                    </div>
                </div>
                <md-dialog-actions layout="row">
                    <span flex></span>
                    <md-button type="submit" class="md-raised md-primary" ng-disabled="newCredentials.$invalid">Add</md-button>
                    <md-button ng-click="cancel()">Cancel</md-button>
                </md-dialog-actions>
            </div>
        </md-dialog-content>
    </form>
</md-dialog>
